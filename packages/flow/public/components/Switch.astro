---
import { setCaseInSwitchState, unsetCaseInSwitchState } from "../helpers";

import type Case from "./Case.astro";

type Props = {
  of: unknown;
  cloak?: true;
  children: Array<typeof Case>;
};

const { of, cloak } = Astro.props;

let html = "";
setCaseInSwitchState(of, !!cloak);

html = Astro.slots.has("default")
  ? await Astro.slots.render("default")
  : "Please render a case here";

unsetCaseInSwitchState();
---

<Fragment
  set:html={html
    ? html
    : "Please render a proper case and make sure the default one is at the bottom"}
/>
