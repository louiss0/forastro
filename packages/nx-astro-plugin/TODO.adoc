= TODO

== Refactors

[WARNING]
.ErrorHandlingConsistency
====

File: src/executors/check/executor.ts
Function: runExecutor error handling
Description:
• Inconsistent error handling compared to other executors
• Uses result.failed check instead of try/catch pattern
• Should standardize error handling across all executors
====

[WARNING]
.DuplicatePackageManagerLogic
====

File: src/generators/init/generator.ts
Function: getPackageManagerAddCommand
Description:
• Package manager command mapping duplicated across generators
• Should extract to shared utility function
• Reduces code duplication and improves maintainability
====

[WARNING]
.HardcodedOutputPaths
====

File: src/executors/build/executor.ts
Function: runExecutor outputPath handling
Description:
• Hardcoded path construction logic
• Should use @nx/devkit utilities for path resolution
• Improves cross-platform compatibility
====

== Features

[IMPORTANT]
.AddTemplateSupport
====

File: src/generators/init/generator.ts
Function: addFiles template selection
Description:
• Missing template parameter in schema
• Should support Astro templates (minimal, vue, react, svelte, etc.)
• Templates referenced in tests but not implemented
• Would greatly improve developer experience
====

[IMPORTANT]
.AddCleanupExecutor
====

File: src/executors/
Implementation: New cleanup executor
Description:
• Add executor to clean build artifacts and cache
• Should clean dist/ and .astro/ directories
• Integrate with Nx cache and dependency graph
• Support for selective cleanup options
====

[IMPORTANT]
.AddSyncExecutor
====

File: src/executors/
Implementation: New sync executor
Description:
• Add executor for `astro sync` command
• Generates TypeScript types for content collections
• Essential for Astro projects using content collections
• Should support watch mode for development
====

[IMPORTANT]
.E2ETestingComplete
====

File: e2e/
Implementation: Complete E2E testing setup with Cypress and Nx plugin testing
Description:
• Added Cypress configuration for UI testing
• Created comprehensive plugin testing with @nx/plugin/testing
• Implemented JPD (JavaScript Package Delegator) integration tests
• Added backward compatibility tests for pnpm package manager
• Created sample workspace testing in tmp directory
• Verified all executors (build, dev, preview, check) work correctly
• Added template testing for different Astro configurations
• Implemented proper cleanup and isolation for tests
• Added verification tests to ensure setup is working
• Created comprehensive documentation in e2e/README.md

File: vitest.e2e.config.ts
Configuration: E2E test configuration with extended timeouts
Description:
• Added dedicated Vitest configuration for e2e tests
• Extended timeouts for package installation and building
• Configured proper test environment for Node.js testing
• Added coverage reporting for e2e tests

File: package.json
Scripts: Added e2e testing scripts
Description:
• Added test:e2e script for running e2e tests
• Added test:e2e:watch script for watch mode
• Added @nx/cypress dependency for Cypress integration
• Updated scripts to support both unit and e2e testing

File: project.json
Target: Added e2e testing target
Description:
• Added e2e target using @nx/cypress executor
• Configured Cypress with proper testing type
• Added project configuration for e2e testing

File: e2e/src/
Tests: Multiple test files covering different scenarios
Description:
• astro-nx.spec.ts: Plugin generator and executor tests
• astro-app.cy.ts: Cypress UI tests for generated apps
• jpd-integration.spec.ts: JPD functionality tests
• setup-verification.spec.ts: Setup verification tests
• All tests include proper pnpm package manager support
• Tests cover template variations (minimal, vue, mdx, etc.)
• Tests verify executors succeed with different configurations
====

[IMPORTANT]
.AddPluginDocumentation
====

File: docs/
Implementation: Comprehensive plugin documentation
Description:
• Add getting started guide
• Document all executors and generators
• Include examples for common use cases
• Add migration guide from standalone Astro projects
• Document JPD integration features
• Add troubleshooting section
====
