---
import { getFromGlobalTemplateMap } from "../lib/helpers";

interface Props {
  templateName: Parameters<typeof getFromGlobalTemplateMap>[0];
  context?: Array<any>;
}

const { templateName, context } = Astro.props;

const render = getFromGlobalTemplateMap(templateName);

if (!render) {
  throw new Error(
    `There is not template with this ${templateName} please use define template before using this component. 
    The id must be the same as templateName
     `
  );
}

const html = context ? await render(...context) : await render();
---

<Fragment set:html={html} />
