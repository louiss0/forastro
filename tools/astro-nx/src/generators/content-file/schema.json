{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": 2,
  "title": "Astro Content File Generator",
  "description": "Generate a new content file for Astro content collections with frontmatter",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "The filename for the content file (without extension)",
      "pattern": "^[a-zA-Z0-9][a-zA-Z0-9-_]*$",
      "minLength": 1,
      "maxLength": 100,
      "$default": {
        "$source": "argv",
        "index": 0
      },
      "x-prompt": "What name would you like to use for the content file?",
      "examples": ["my-first-post", "getting-started", "advanced-guide"]
    },
    "project": {
      "type": "string",
      "description": "The target project where the content file will be created",
      "$default": {
        "$source": "projectName"
      },
      "x-prompt": "Which project should contain this content file?",
      "x-dropdown": "projects"
    },
    "collection": {
      "type": "string",
      "description": "The content collection name (corresponds to directories under src/content)",
      "pattern": "^[a-zA-Z][a-zA-Z0-9-_]*$",
      "x-prompt": {
        "message": "Which collection should this content file belong to?",
        "type": "autocomplete"
      },
      "examples": ["blog", "docs", "articles", "guides"]
    },
    "directory": {
      "type": "string",
      "description": "Custom directory path when not using standard content collections structure",
      "pattern": "^[a-zA-Z0-9/_-]*$"
    },
    "ext": {
      "type": "string",
      "description": "File extension format for the content file",
      "enum": ["md", "mdx", "mdoc", "adoc"],
      "default": "md",
      "x-prompt": {
        "message": "Which content format would you prefer?",
        "type": "list",
        "items": [
          { "value": "md", "label": "md - Standard Markdown" },
          { "value": "mdx", "label": "mdx - Markdown with JSX components" },
          { "value": "mdoc", "label": "mdoc - Markdoc structured content" },
          { "value": "adoc", "label": "adoc - AsciiDoc format" }
        ]
      }
    },
    "frontmatter": {
      "type": "object",
      "description": "Custom frontmatter metadata fields to include in the content file",
      "additionalProperties": {
        "oneOf": [
          { "type": "string" },
          { "type": "number" },
          { "type": "boolean" },
          { "type": "array" }
        ]
      },
      "properties": {
        "title": {
          "type": "string",
          "description": "Content title"
        },
        "description": {
          "type": "string",
          "description": "Content description"
        },
        "tags": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Content tags"
        },
        "publishDate": {
          "type": "string",
          "format": "date",
          "description": "Publication date"
        }
      },
      "examples": [
        { "title": "My First Post", "description": "An introduction to our blog", "tags": ["intro", "welcome"] },
        { "title": "Getting Started Guide", "draft": false, "publishDate": "2024-01-15" }
      ]
    },
    "skipFormat": {
      "type": "boolean",
      "description": "Skip automatic code formatting after content file generation",
      "default": false
    }
  },
  "required": ["name", "project"],
  "oneOf": [
    {
      "required": ["name", "project", "collection"]
    },
    {
      "required": ["name", "project", "directory"]
    }
  ],
  "additionalProperties": false
}
